Запускать второй проход даже в случае выявления ошибок
Добавить в вывод ошибки имя файла
Прокомментировать в каких случаях программа прекращает работу а в каких переходит к следующему файлу
